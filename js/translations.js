/* ================================================
   DANURA TEXTILES - TRANSLATIONS
   Multi-language Support (English, Sinhala, Tamil)
   ================================================ */

const translations = {
    en: {
        // Loading
        loading: "Loading...",
        
        // Navigation
        nav_home: "Home",
        nav_products: "Products",
        nav_categories: "Categories",
        nav_contact: "Contact Us",
        
        // Hero
        hero_title: "Premium Quality Textiles",
        hero_subtitle: "Discover our exclusive collection of fabrics",
        shop_now: "Shop Now",
        
        // Features
        feature_delivery: "Island-wide Delivery",
        feature_delivery_desc: "Fast delivery across Sri Lanka",
        feature_quality: "Premium Quality",
        feature_quality_desc: "100% authentic products",
        feature_support: "24/7 Support",
        feature_support_desc: "Dedicated customer service",
        feature_secure: "Secure Payment",
        feature_secure_desc: "Multiple payment options",
        
        // Categories
        categories_title: "Shop by Category",
        categories_subtitle: "Browse our wide range of textile categories",
        
        // Products
        featured_title: "Featured Products",
        featured_subtitle: "Handpicked selections for you",
        filter_all: "All",
        load_more: "Load More",
        add_to_cart: "Add to Cart",
        quick_view: "Quick View",
        out_of_stock: "Out of Stock",
        
        // Promo
        promo_title: "Special Offer!",
        promo_desc: "Get 20% off on your first order",
        
        // Contact
        contact_title: "Contact Us",
        contact_subtitle: "We'd love to hear from you",
        contact_address: "Address",
        contact_phone: "Phone",
        contact_email: "Email",
        send_message: "Send Message",
        
        // Forms
        form_name: "Your Name",
        form_phone: "Phone Number",
        form_email: "Email Address",
        form_message: "Your Message",
        form_district: "District",
        form_city: "City (Optional)",
        form_address: "Delivery Address",
        
        // Cart
        cart_title: "Shopping Cart",
        cart_empty: "Your cart is empty",
        subtotal: "Subtotal:",
        proceed_checkout: "Proceed to Checkout",
        quantity: "Quantity:",
        remove: "Remove",
        
        // Checkout
        checkout_title: "Checkout",
        step_delivery: "Delivery",
        step_payment: "Payment",
        step_confirm: "Confirm",
        delivery_charge: "Delivery Charge:",
        continue_payment: "Continue to Payment",
        continue_confirm: "Continue",
        back: "Back",
        place_order: "Place Order",
        
        // Payment
        payment_method: "Payment Method",
        card_payment: "Card Payment",
        bank_transfer: "Bank Transfer",
        koko_pay: "Koko Pay",
        cash_on_delivery: "Cash on Delivery",
        
        // Order
        order_summary: "Order Summary",
        delivery_details: "Delivery Details",
        total: "Total:",
        order_success: "Order Placed Successfully!",
        order_success_msg: "Thank you for your order. We will contact you soon.",
        order_number: "Order Number:",
        continue_shopping: "Continue Shopping",
        
        // Search
        search_placeholder: "Search products...",
        no_results: "No products found",
        
        // Footer
        footer_desc: "Quality textiles for every occasion. Your trusted partner for premium fabrics in Sri Lanka.",
        footer_quick_links: "Quick Links",
        footer_customer_service: "Customer Service",
        footer_shipping: "Shipping Info",
        footer_returns: "Returns",
        footer_faq: "FAQ",
        footer_privacy: "Privacy Policy",
        footer_newsletter: "Newsletter",
        footer_newsletter_desc: "Subscribe to get special offers",
        footer_rights: "All rights reserved.",
        
        // Messages
        added_to_cart: "Added to cart!",
        removed_from_cart: "Removed from cart",
        cart_updated: "Cart updated",
        order_placed: "Order placed successfully!",
        error_occurred: "An error occurred. Please try again.",
        fill_required: "Please fill all required fields",
        invalid_phone: "Please enter a valid phone number",
        select_payment: "Please select a payment method"
    },
    
    si: {
        // Loading
        loading: "පූරණය වෙමින්...",
        
        // Navigation
        nav_home: "මුල් පිටුව",
        nav_products: "නිෂ්පාදන",
        nav_categories: "ප්‍රවර්ග",
        nav_contact: "අප අමතන්න",
        
        // Hero
        hero_title: "උසස් තත්ත්වයේ රෙදිපිළි",
        hero_subtitle: "අපගේ සුවිශේෂී රෙදි එකතුව සොයා ගන්න",
        shop_now: "දැන් මිලදී ගන්න",
        
        // Features
        feature_delivery: "දිවයින පුරා බෙදාහැරීම",
        feature_delivery_desc: "ශ්‍රී ලංකාව පුරා වේගවත් බෙදාහැරීම",
        feature_quality: "උසස් තත්ත්වය",
        feature_quality_desc: "100% සත්‍ය නිෂ්පාදන",
        feature_support: "24/7 සහාය",
        feature_support_desc: "කැපවූ පාරිභෝගික සේවාව",
        feature_secure: "ආරක්ෂිත ගෙවීම්",
        feature_secure_desc: "බහු ගෙවීම් විකල්ප",
        
        // Categories
        categories_title: "ප්‍රවර්ග අනුව සාප්පු සවාරි",
        categories_subtitle: "අපගේ පුළුල් රෙදිපිළි ප්‍රවර්ග පරාසය බලන්න",
        
        // Products
        featured_title: "විශේෂිත නිෂ්පාදන",
        featured_subtitle: "ඔබ වෙනුවෙන් තෝරාගත් තේරීම්",
        filter_all: "සියල්ල",
        load_more: "තවත් පූරණය කරන්න",
        add_to_cart: "කරත්තයට එක් කරන්න",
        quick_view: "ඉක්මන් දැක්ම",
        out_of_stock: "තොගයේ නැත",
        
        // Promo
        promo_title: "විශේෂ දීමනාව!",
        promo_desc: "ඔබේ පළමු ඇණවුමට 20% වට්ටමක්",
        
        // Contact
        contact_title: "අප අමතන්න",
        contact_subtitle: "ඔබෙන් ඇසීමට අපි කැමතියි",
        contact_address: "ලිපිනය",
        contact_phone: "දුරකථනය",
        contact_email: "විද්‍යුත් තැපෑල",
        send_message: "පණිවිඩය යවන්න",
        
        // Forms
        form_name: "ඔබගේ නම",
        form_phone: "දුරකථන අංකය",
        form_email: "විද්‍යුත් තැපැල් ලිපිනය",
        form_message: "ඔබගේ පණිවිඩය",
        form_district: "දිස්ත්‍රික්කය",
        form_city: "නගරය (විකල්ප)",
        form_address: "බෙදාහැරීමේ ලිපිනය",
        
        // Cart
        cart_title: "සාප්පු කරත්තය",
        cart_empty: "ඔබේ කරත්තය හිස්ය",
        subtotal: "උප එකතුව:",
        proceed_checkout: "ගෙවීමට යන්න",
        quantity: "ප්‍රමාණය:",
        remove: "ඉවත් කරන්න",
        
        // Checkout
        checkout_title: "ගෙවීම",
        step_delivery: "බෙදාහැරීම",
        step_payment: "ගෙවීම",
        step_confirm: "තහවුරු කරන්න",
        delivery_charge: "බෙදාහැරීම් ගාස්තුව:",
        continue_payment: "ගෙවීමට ඉදිරියට",
        continue_confirm: "ඉදිරියට යන්න",
        back: "ආපසු",
        place_order: "ඇණවුම තබන්න",
        
        // Payment
        payment_method: "ගෙවීම් ක්‍රමය",
        card_payment: "කාඩ්පත් ගෙවීම",
        bank_transfer: "බැංකු මාරුව",
        koko_pay: "කොකෝ පේ",
        cash_on_delivery: "භාරදීමේදී මුදල්",
        
        // Order
        order_summary: "ඇණවුම් සාරාංශය",
        delivery_details: "බෙදාහැරීමේ විස්තර",
        total: "මුළු එකතුව:",
        order_success: "ඇණවුම සාර්ථකව තබන ලදී!",
        order_success_msg: "ඔබගේ ඇණවුමට ස්තූතියි. අපි ඉක්මනින් ඔබව සම්බන්ධ කර ගනිමු.",
        order_number: "ඇණවුම් අංකය:",
        continue_shopping: "සාප්පු සවාරි කරන්න",
        
        // Search
        search_placeholder: "නිෂ්පාදන සොයන්න...",
        no_results: "නිෂ්පාදන හමු නොවීය",
        
        // Footer
        footer_desc: "සෑම අවස්ථාවකටම ගුණාත්මක රෙදිපිළි. ශ්‍රී ලංකාවේ උසස් රෙදිපිළි සඳහා ඔබේ විශ්වාසනීය සහකරු.",
        footer_quick_links: "ඉක්මන් සබැඳි",
        footer_customer_service: "පාරිභෝගික සේවාව",
        footer_shipping: "නැව්ගත කිරීමේ තොරතුරු",
        footer_returns: "ආපසු",
        footer_faq: "නිතර අසන ප්‍රශ්න",
        footer_privacy: "පෞද්ගලිකත්ව ප්‍රතිපත්තිය",
        footer_newsletter: "පුවත් ලිපිය",
        footer_newsletter_desc: "විශේෂ දීමනා ලබා ගැනීමට දායක වන්න",
        footer_rights: "සියලු හිමිකම් ඇවිරිණි.",
        
        // Messages
        added_to_cart: "කරත්තයට එක් කරන ලදී!",
        removed_from_cart: "කරත්තයෙන් ඉවත් කරන ලදී",
        cart_updated: "කරත්තය යාවත්කාලීන කරන ලදී",
        order_placed: "ඇණවුම සාර්ථකව තබන ලදී!",
        error_occurred: "දෝෂයක් ඇතිවිය. කරුණාකර නැවත උත්සාහ කරන්න.",
        fill_required: "කරුණාකර අවශ්‍ය සියලු ක්ෂේත්‍ර පුරවන්න",
        invalid_phone: "කරුණාකර වලංගු දුරකථන අංකයක් ඇතුළත් කරන්න",
        select_payment: "කරුණාකර ගෙවීම් ක්‍රමයක් තෝරන්න"
    },
    
    ta: {
        // Loading
        loading: "ஏற்றுகிறது...",
        
        // Navigation
        nav_home: "முகப்பு",
        nav_products: "தயாரிப்புகள்",
        nav_categories: "வகைகள்",
        nav_contact: "எங்களை தொடர்பு கொள்ளுங்கள்",
        
        // Hero
        hero_title: "உயர்தர ஜவுளிகள்",
        hero_subtitle: "எங்கள் பிரத்யேக துணி சேகரிப்பைக் கண்டறியுங்கள்",
        shop_now: "இப்போது வாங்கவும்",
        
        // Features
        feature_delivery: "தீவு முழுவதும் விநியோகம்",
        feature_delivery_desc: "இலங்கை முழுவதும் விரைவான விநியோகம்",
        feature_quality: "உயர்தர தரம்",
        feature_quality_desc: "100% உண்மையான தயாரிப்புகள்",
        feature_support: "24/7 ஆதரவு",
        feature_support_desc: "அர்ப்பணிப்புள்ள வாடிக்கையாளர் சேவை",
        feature_secure: "பாதுகாப்பான கட்டணம்",
        feature_secure_desc: "பல கட்டண விருப்பங்கள்",
        
        // Categories
        categories_title: "வகை வாரியாக ஷாப்பிங்",
        categories_subtitle: "எங்கள் பரந்த ஜவுளி வகைகளை உலாவுங்கள்",
        
        // Products
        featured_title: "சிறப்பு தயாரிப்புகள்",
        featured_subtitle: "உங்களுக்காக கைத்தேர்ந்த தேர்வுகள்",
        filter_all: "அனைத்தும்",
        load_more: "மேலும் ஏற்றவும்",
        add_to_cart: "கார்ட்டில் சேர்",
        quick_view: "விரைவு பார்வை",
        out_of_stock: "இருப்பில் இல்லை",
        
        // Promo
        promo_title: "சிறப்பு சலுகை!",
        promo_desc: "உங்கள் முதல் ஆர்டரில் 20% தள்ளுபடி பெறுங்கள்",
        
        // Contact
        contact_title: "எங்களை தொடர்பு கொள்ளுங்கள்",
        contact_subtitle: "உங்களிடமிருந்து கேட்க விரும்புகிறோம்",
        contact_address: "முகவரி",
        contact_phone: "தொலைபேசி",
        contact_email: "மின்னஞ்சல்",
        send_message: "செய்தி அனுப்பு",
        
        // Forms
        form_name: "உங்கள் பெயர்",
        form_phone: "தொலைபேசி எண்",
        form_email: "மின்னஞ்சல் முகவரி",
        form_message: "உங்கள் செய்தி",
        form_district: "மாவட்டம்",
        form_city: "நகரம் (விருப்பத்திற்குரிய)",
        form_address: "விநியோக முகவரி",
        
        // Cart
        cart_title: "ஷாப்பிங் கார்ட்",
        cart_empty: "உங்கள் கார்ட் காலியாக உள்ளது",
        subtotal: "உப மொத்தம்:",
        proceed_checkout: "செக்அவுட்டிற்கு செல்லவும்",
        quantity: "அளவு:",
        remove: "அகற்று",
        
        // Checkout
        checkout_title: "செக்அவுட்",
        step_delivery: "விநியோகம்",
        step_payment: "கட்டணம்",
        step_confirm: "உறுதிப்படுத்து",
        delivery_charge: "விநியோக கட்டணம்:",
        continue_payment: "கட்டணத்திற்கு தொடரவும்",
        continue_confirm: "தொடரவும்",
        back: "பின்",
        place_order: "ஆர்டர் செய்",
        
        // Payment
        payment_method: "கட்டண முறை",
        card_payment: "கார்டு கட்டணம்",
        bank_transfer: "வங்கி பரிமாற்றம்",
        koko_pay: "கோகோ பே",
        cash_on_delivery: "பணம் விநியோகத்தில்",
        
        // Order
        order_summary: "ஆர்டர் சுருக்கம்",
        delivery_details: "விநியோக விவரங்கள்",
        total: "மொத்தம்:",
        order_success: "ஆர்டர் வெற்றிகரமாக வைக்கப்பட்டது!",
        order_success_msg: "உங்கள் ஆர்டருக்கு நன்றி. நாங்கள் விரைவில் உங்களை தொடர்பு கொள்வோம்.",
        order_number: "ஆர்டர் எண்:",
        continue_shopping: "ஷாப்பிங் தொடரவும்",
        
        // Search
        search_placeholder: "தயாரிப்புகளைத் தேடுங்கள்...",
        no_results: "தயாரிப்புகள் கிடைக்கவில்லை",
        
        // Footer
        footer_desc: "ஒவ்வொரு சந்தர்ப்பத்திற்கும் தரமான ஜவுளிகள். இலங்கையில் உயர்தர ஜவுளிகளுக்கான உங்கள் நம்பகமான கூட்டாளி.",
        footer_quick_links: "விரைவு இணைப்புகள்",
        footer_customer_service: "வாடிக்கையாளர் சேவை",
        footer_shipping: "கப்பல் தகவல்",
        footer_returns: "திரும்புதல்",
        footer_faq: "அடிக்கடி கேட்கப்படும் கேள்விகள்",
        footer_privacy: "தனியுரிமைக் கொள்கை",
        footer_newsletter: "செய்திமடல்",
        footer_newsletter_desc: "சிறப்பு சலுகைகளைப் பெற பதிவு செய்யுங்கள்",
        footer_rights: "அனைத்து உரிமைகளும் பாதுகாக்கப்பட்டவை.",
        
        // Messages
        added_to_cart: "கார்ட்டில் சேர்க்கப்பட்டது!",
        removed_from_cart: "கார்ட்டிலிருந்து அகற்றப்பட்டது",
        cart_updated: "கார்ட் புதுப்பிக்கப்பட்டது",
        order_placed: "ஆர்டர் வெற்றிகரமாக வைக்கப்பட்டது!",
        error_occurred: "பிழை ஏற்பட்டது. மீண்டும் முயற்சிக்கவும்.",
        fill_required: "தேவையான அனைத்து புலங்களையும் நிரப்பவும்",
        invalid_phone: "சரியான தொலைபேசி எண்ணை உள்ளிடவும்",
        select_payment: "கட்டண முறையைத் தேர்ந்தெடுக்கவும்"
    }
};

// Current Language
let currentLang = localStorage.getItem('language') || 'en';

// Translation Functions
function t(key) {
    return translations[currentLang][key] || translations['en'][key] || key;
}

function setLanguage(lang) {
    if (translations[lang]) {
        currentLang = lang;
        localStorage.setItem('language', lang);
        
        // Update body class for font
        document.body.classList.remove('lang-en', 'lang-si', 'lang-ta');
        document.body.classList.add(`lang-${lang}`);
        
        // Update all translatable elements
        updateTranslations();
        
        // Update language buttons
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.lang === lang);
        });
    }
}

function updateTranslations() {
    // Update elements with data-translate attribute
    document.querySelectorAll('[data-translate]').forEach(el => {
        const key = el.getAttribute('data-translate');
        el.textContent = t(key);
    });
    
    // Update placeholders
    document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
        const key = el.getAttribute('data-translate-placeholder');
        el.placeholder = t(key);
    });
}

// Get localized text from object
function getLocalizedText(obj, field = 'name') {
    if (!obj) return '';
    
    const langField = `${field}_${currentLang}`;
    return obj[langField] || obj[`${field}_en`] || obj[field] || '';
}

// Export
window.t = t;
window.setLanguage = setLanguage;
window.updateTranslations = updateTranslations;
window.getLocalizedText = getLocalizedText;
window.currentLang = () => currentLang;